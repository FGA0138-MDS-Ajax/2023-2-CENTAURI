{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\maria\\\\Documents\\\\MDS\\\\2023-2-CENTAURI\\\\frontend\\\\src\\\\components\\\\pages\\\\Usuario.js\",\n  _s = $RefreshSig$();\n// Import necessary libraries and components\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport styles from \"./Usuario.module.css\";\nimport menina from \"../img/meninaUsuario.svg\";\nimport estrela from \"../img/estrela.svg\";\nimport logo from \"../img/logo.svg\";\nimport { useAuth } from '../contexts/AuthContext';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Usuario() {\n  _s();\n  // Destructure authentication information from useAuth\n  const [filteredResults, setFilteredResults] = useState([]);\n  const {\n    isLoggedIn,\n    user,\n    logout\n  } = useAuth();\n  const navigate = useNavigate();\n  const paginainicial = () => {\n    navigate(\"/\");\n  };\n\n  // State to hold the list of favorite documents\n  const [favoriteDocuments, setFavoriteDocuments] = useState([]);\n  const [userEmail, setUserEmail] = useState();\n  // Effect to fetch favorite documents when component mounts\n  useEffect(() => {\n    if (isLoggedIn) {\n      getFavoriteDocuments();\n    }\n  }, [isLoggedIn, user]);\n\n  // Function to fetch the list of favorite documents\n  async function getFavoriteDocuments() {\n    setUserEmail({\n      userEmail: user.email\n    });\n    await axios.post('http://localhost:8800/list_user_favorites', {\n      userEmail: userEmail\n    }, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => {\n      console.log('Favorite Documents:', res.data.documents);\n    }).catch(error => {\n      if (error.response.status > 400) {\n        console.error('\\nError fetching favorite documents:', error);\n        console.error(\"\\n\", error.config.data);\n      }\n    });\n  }\n  ;\n  const handleLogout = () => {\n    logout();\n    localStorage.setItem('isLoggedIn', 'false');\n    localStorage.removeItem('user');\n    navigate('/pesquisa');\n  };\n\n  // JSX structure of the Usuario component\n  return /*#__PURE__*/_jsxDEV(\"body\", {\n    className: \"before-login-body\",\n    children: isLoggedIn ? /*#__PURE__*/_jsxDEV(\"body\", {\n      className: styles.userPage,\n      alt: \"logged-body\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.containerSuperior,\n        alt: \"superior-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: styles.logo,\n          src: logo,\n          onClick: paginainicial\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles.sair,\n          onClick: handleLogout,\n          children: \"Sair da conta\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.containerPrincipal,\n        alt: \"main-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.userContainer,\n          alt: \"user-info-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.userPanel,\n            alt: \"user-panel\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"Ol\\xE1, confira seus dados:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.userCard,\n              alt: \"user-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Nome: \", user === null || user === void 0 ? void 0 : user.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Email: \", user === null || user === void 0 ? void 0 : user.email]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: menina,\n            className: styles.menina,\n            alt: \"Desenho de uma menina\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.favoritesContainer,\n          alt: \"favorites-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: estrela,\n            className: styles.estrela,\n            alt: \"Estrela\",\n            onClick: getFavoriteDocuments\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \" Favoritos \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"input-box\",\n            children: filteredResults.map(resource => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.documentContainer\n            }, resource.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this) : null\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}\n_s(Usuario, \"seV5zD2V+bjr6XcFyp1Qw7fn+Ws=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = Usuario;\nexport default Usuario;\nvar _c;\n$RefreshReg$(_c, \"Usuario\");","map":{"version":3,"names":["React","useState","useEffect","axios","styles","menina","estrela","logo","useAuth","useNavigate","jsxDEV","_jsxDEV","Usuario","_s","filteredResults","setFilteredResults","isLoggedIn","user","logout","navigate","paginainicial","favoriteDocuments","setFavoriteDocuments","userEmail","setUserEmail","getFavoriteDocuments","email","post","headers","then","res","console","log","data","documents","catch","error","response","status","config","handleLogout","localStorage","setItem","removeItem","className","children","userPage","alt","containerSuperior","src","onClick","fileName","_jsxFileName","lineNumber","columnNumber","sair","containerPrincipal","userContainer","userPanel","userCard","name","favoritesContainer","class","map","resource","documentContainer","id","_c","$RefreshReg$"],"sources":["C:/Users/maria/Documents/MDS/2023-2-CENTAURI/frontend/src/components/pages/Usuario.js"],"sourcesContent":["// Import necessary libraries and components\r\nimport React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport styles from \"./Usuario.module.css\";\r\n\r\nimport menina from \"../img/meninaUsuario.svg\";\r\nimport estrela from \"../img/estrela.svg\";\r\nimport logo from \"../img/logo.svg\";\r\n\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction Usuario() {\r\n  // Destructure authentication information from useAuth\r\n  const [filteredResults, setFilteredResults] = useState([]);\r\n  const { isLoggedIn, user, logout } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  const paginainicial = () => {\r\n    navigate(\"/\");\r\n  };\r\n\r\n  // State to hold the list of favorite documents\r\n  const [favoriteDocuments, setFavoriteDocuments] = useState([]);\r\n  const [userEmail, setUserEmail] = useState();\r\n  // Effect to fetch favorite documents when component mounts\r\n  useEffect(() => {\r\n    if (isLoggedIn) {\r\n      getFavoriteDocuments();\r\n    }\r\n  }, [isLoggedIn, user]);\r\n\r\n  // Function to fetch the list of favorite documents\r\n  async function getFavoriteDocuments (){\r\n    setUserEmail({\r\n      userEmail: user.email\r\n    })\r\n      await axios.post('http://localhost:8800/list_user_favorites', {\r\n        userEmail: userEmail \r\n      }, {headers: {\r\n        'Content-Type': 'application/json'\r\n        }}).then(res => {\r\n          console.log('Favorite Documents:', res.data.documents);\r\n        }).catch (error =>{\r\n          if(error.response.status > 400){\r\n            console.error('\\nError fetching favorite documents:', error);\r\n            console.error(\"\\n\",error.config.data);\r\n          }\r\n        }) \r\n  \r\n  };\r\n\r\n  const handleLogout = () => {\r\n    logout();\r\n    localStorage.setItem('isLoggedIn', 'false');\r\n    localStorage.removeItem('user');\r\n    navigate('/pesquisa');\r\n  };\r\n\r\n  // JSX structure of the Usuario component\r\n  return (\r\n    <body className=\"before-login-body\">\r\n      {isLoggedIn ? (\r\n        <body className={styles.userPage} alt=\"logged-body\">\r\n\r\n          <div className={styles.containerSuperior} alt=\"superior-container\">\r\n            <img className={styles.logo} src={logo} onClick={paginainicial} />\r\n            <button className={styles.sair} onClick={handleLogout}>Sair da conta</button>\r\n\r\n          </div>\r\n\r\n          <div className={styles.containerPrincipal} alt=\"main-container\">\r\n\r\n            <div className={styles.userContainer} alt=\"user-info-container\">\r\n\r\n              <div className={styles.userPanel} alt=\"user-panel\">\r\n\r\n                <h1>Olá, confira seus dados:</h1>\r\n                \r\n                <div className={styles.userCard} alt=\"user-card\">\r\n\r\n                  <p>Nome: {user?.name}</p>\r\n                  <p>Email: {user?.email}</p>\r\n\r\n                </div>\r\n\r\n              </div>\r\n\r\n              <img src={menina} className={styles.menina} alt=\"Desenho de uma menina\"></img>\r\n\r\n            </div>\r\n\r\n            <div className={styles.favoritesContainer} alt=\"favorites-container\">\r\n              \r\n              <img src={estrela} className={styles.estrela} alt=\"Estrela\" onClick={getFavoriteDocuments}></img>\r\n\r\n              <h1> Favoritos </h1>\r\n              \r\n              <div class=\"input-box\">{filteredResults.map((resource) =>(\r\n                <div key={resource.id} className={styles.documentContainer}>\r\n\r\n                </div>\r\n              ))}\r\n\r\n            </div>\r\n          \r\n          </div>\r\n\r\n          </div>\r\n\r\n        </body>\r\n\r\n      ) : null}\r\n    </body>\r\n  );\r\n}\r\n\r\nexport default Usuario;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
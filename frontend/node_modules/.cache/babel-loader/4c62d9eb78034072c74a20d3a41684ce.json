{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\maria\\\\Documents\\\\MDS\\\\2023-2-CENTAURI\\\\frontend\\\\src\\\\components\\\\pages\\\\Usuario.js\";\n// Import necessary libraries and components\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport styles from \"./Usuario.module.css\";\nimport menina from \"../img/meninaUsuario.svg\";\nimport estrela from \"../img/estrela.svg\";\nimport logo from \"../img/logo.svg\";\nimport { useAuth } from '../contexts/AuthContext';\nimport { useNavigate } from 'react-router-dom';\nfunction Usuario() {\n  // Destructure authentication information from useAuth\n  const [filteredResults, setFilteredResults] = useState([]);\n  const {\n    isLoggedIn,\n    user,\n    logout\n  } = useAuth();\n  const navigate = useNavigate();\n  const paginainicial = () => {\n    navigate(\"/\");\n  };\n\n  // State to hold the list of favorite documents\n  const [favoriteDocuments, setFavoriteDocuments] = useState([]);\n  const [userEmail, setUserEmail] = useState();\n  // Effect to fetch favorite documents when component mounts\n  useEffect(() => {\n    if (isLoggedIn) {\n      getFavoriteDocuments();\n    }\n  }, [isLoggedIn, user]);\n\n  // Function to fetch the list of favorite documents\n  async function getFavoriteDocuments(userEmail) {\n    setUserEmail({\n      userEmail: user === null || user === void 0 ? void 0 : user.email\n    });\n    console.log(\"useremail-->>>>\", userEmail);\n    await axios.get('http://localhost:8800/list_user_favorites', {\n      userEmail: userEmail\n    }, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => {\n      console.log('Favorite Documents:', res.data.documents);\n    }).catch(error => {\n      if (error.response.status === 400 || 500) {\n        console.error('Error fetching favorite documents:', error);\n        console.error(error.config.data);\n      }\n    });\n  }\n  ;\n  // Function to handle user logout\n  const handleLogout = () => {\n    logout();\n    localStorage.setItem('isLoggedIn', 'false');\n    localStorage.removeItem('user');\n    navigate('/pesquisa');\n  };\n\n  // JSX structure of the Usuario component\n  return /*#__PURE__*/React.createElement(\"body\", {\n    className: \"before-login-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }\n  }, isLoggedIn ? /*#__PURE__*/React.createElement(\"body\", {\n    className: styles.userPage,\n    alt: \"logged-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.containerSuperior,\n    alt: \"superior-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: styles.logo,\n    src: logo,\n    onClick: paginainicial,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: styles.sair,\n    onClick: handleLogout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, \"Sair da conta\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.containerPrincipal,\n    alt: \"main-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.userContainer,\n    alt: \"user-info-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.userPanel,\n    alt: \"user-panel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, \"Ol\\xE1, confira seus dados:\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.userCard,\n    alt: \"user-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 19\n    }\n  }, \"Nome: \", user === null || user === void 0 ? void 0 : user.name), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 19\n    }\n  }, \"Email: \", user === null || user === void 0 ? void 0 : user.email))), /*#__PURE__*/React.createElement(\"img\", {\n    src: menina,\n    className: styles.menina,\n    alt: \"Desenho de uma menina\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.favoritesContainer,\n    alt: \"favorites-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: estrela,\n    className: styles.estrela,\n    alt: \"Estrela\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 15\n    }\n  }, \" Favoritos \"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"input-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 15\n    }\n  }, filteredResults.map(resource => /*#__PURE__*/React.createElement(\"div\", {\n    key: resource.id,\n    className: styles.documentContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    for: \"teste\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }\n  }, \" Pesquisa_titulo_owfgG\"))))) : null);\n}\nexport default Usuario;","map":{"version":3,"names":["React","useState","useEffect","axios","styles","menina","estrela","logo","useAuth","useNavigate","Usuario","filteredResults","setFilteredResults","isLoggedIn","user","logout","navigate","paginainicial","favoriteDocuments","setFavoriteDocuments","userEmail","setUserEmail","getFavoriteDocuments","email","console","log","get","headers","then","res","data","documents","catch","error","response","status","config","handleLogout","localStorage","setItem","removeItem","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","userPage","alt","containerSuperior","src","onClick","sair","containerPrincipal","userContainer","userPanel","userCard","name","favoritesContainer","class","map","resource","key","id","documentContainer","for"],"sources":["C:/Users/maria/Documents/MDS/2023-2-CENTAURI/frontend/src/components/pages/Usuario.js"],"sourcesContent":["// Import necessary libraries and components\r\nimport React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport styles from \"./Usuario.module.css\";\r\n\r\nimport menina from \"../img/meninaUsuario.svg\";\r\nimport estrela from \"../img/estrela.svg\";\r\nimport logo from \"../img/logo.svg\";\r\n\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction Usuario() {\r\n  // Destructure authentication information from useAuth\r\n  const [filteredResults, setFilteredResults] = useState([]);\r\n  const { isLoggedIn, user, logout } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  const paginainicial = () => {\r\n    navigate(\"/\");\r\n  };\r\n\r\n  // State to hold the list of favorite documents\r\n  const [favoriteDocuments, setFavoriteDocuments] = useState([]);\r\n  const [userEmail, setUserEmail] = useState();\r\n  // Effect to fetch favorite documents when component mounts\r\n  useEffect(() => {\r\n    if (isLoggedIn) {\r\n      getFavoriteDocuments();\r\n    }\r\n  }, [isLoggedIn, user]);\r\n\r\n  // Function to fetch the list of favorite documents\r\n  async function getFavoriteDocuments (userEmail){\r\n    setUserEmail({\r\n      userEmail: user?.email\r\n    })\r\n    console.log(\"useremail-->>>>\", userEmail)\r\n\r\n    await axios.get('http://localhost:8800/list_user_favorites', {\r\n        userEmail: userEmail \r\n      }, {headers: {\r\n        'Content-Type': 'application/json'\r\n        }}).then(res => {\r\n          console.log('Favorite Documents:', res.data.documents);\r\n        }).catch (error =>{\r\n          if(error.response.status === 400 || 500){\r\n            console.error('Error fetching favorite documents:', error);\r\n            console.error(error.config.data);\r\n\r\n          }\r\n\r\n        }) \r\n  };\r\n  // Function to handle user logout\r\n  const handleLogout = () => {\r\n    logout();\r\n    localStorage.setItem('isLoggedIn', 'false');\r\n    localStorage.removeItem('user');\r\n    navigate('/pesquisa');\r\n  };\r\n\r\n  // JSX structure of the Usuario component\r\n  return (\r\n    <body className=\"before-login-body\">\r\n      {isLoggedIn ? (\r\n        <body className={styles.userPage} alt=\"logged-body\">\r\n\r\n          <div className={styles.containerSuperior} alt=\"superior-container\">\r\n            <img className={styles.logo} src={logo} onClick={paginainicial} />\r\n            <button className={styles.sair} onClick={handleLogout}>Sair da conta</button>\r\n\r\n          </div>\r\n\r\n          <div className={styles.containerPrincipal} alt=\"main-container\">\r\n\r\n            <div className={styles.userContainer} alt=\"user-info-container\">\r\n\r\n              <div className={styles.userPanel} alt=\"user-panel\">\r\n\r\n                <h1>Olá, confira seus dados:</h1>\r\n                \r\n                <div className={styles.userCard} alt=\"user-card\">\r\n\r\n                  <p>Nome: {user?.name}</p>\r\n                  <p>Email: {user?.email}</p>\r\n\r\n                </div>\r\n\r\n              </div>\r\n\r\n              <img src={menina} className={styles.menina} alt=\"Desenho de uma menina\"></img>\r\n\r\n            </div>\r\n\r\n            <div className={styles.favoritesContainer} alt=\"favorites-container\">\r\n              \r\n              <img src={estrela} className={styles.estrela} alt=\"Estrela\"></img>\r\n\r\n              <h1> Favoritos </h1>\r\n              \r\n              <div class=\"input-box\">{filteredResults.map((resource) =>(\r\n                <div key={resource.id} className={styles.documentContainer}>\r\n\r\n                </div>\r\n              ))}\r\n\r\n                <label for=\"teste\"> Pesquisa_titulo_owfgG</label>\r\n\r\n              </div>\r\n\r\n            </div>\r\n\r\n          </div>\r\n\r\n        </body>\r\n\r\n      ) : null}\r\n    </body>\r\n  );\r\n}\r\n\r\nexport default Usuario;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
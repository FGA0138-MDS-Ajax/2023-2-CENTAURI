<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `document_parser` crate."><title>document_parser - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-fa3bb1812debf86c.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="document_parser" data-themes="" data-resource-suffix="" data-rustdoc-version="1.75.0-nightly (960754090 2023-10-06)" data-channel="nightly" data-search-js="search-5f5ec5419eadd0c9.js" data-settings-js="settings-74424d7eec62a23e.js" ><script src="../static.files/storage-fec3eaa3851e447d.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-c5bd66d33317d69f.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-5d8b3c7633ad77ba.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../document_parser/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a></nav><nav class="sidebar"><a class="logo-container" href="../document_parser/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Crate document_parser</a></h2><div class="sidebar-elems"><ul class="block"><li class="version">Version 0.1.0</li><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#functions">Functions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">document_parser</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../src/document_parser/main.rs.html#1-399">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.Data.html" title="struct document_parser::Data">Data</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">Represents an array of document entries, with macros to both read and write to a JSON file.</div></li><li><div class="item-name"><a class="struct" href="struct.Entry.html" title="struct document_parser::Entry">Entry</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">Represents each document entry, with macros to both read and write to a JSON file.</div></li></ul><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.create_folders_if_not_exist.html" title="fn document_parser::create_folders_if_not_exist">create_folders_if_not_exist</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">On program startup checks for the existence of in, old and out folders, for ingesting, moving to
and outputting results respectively.</div></li><li><div class="item-name"><a class="fn" href="fn.extract_date.html" title="fn document_parser::extract_date">extract_date</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">This function is run if <a href="fn.extract_portuguese_date.html" title="fn document_parser::extract_portuguese_date"><code>extract_portuguese_date</code></a> returns nothing. It takes a reference to a
Line of text and returns a 64-bit integer with Date as Unix Epoch. The regex engine looks for
any slash separated date, ranging from 4 digits up to 8, i.e., from 2/9/23 to 02/09/2023.</div></li><li><div class="item-name"><a class="fn" href="fn.extract_portuguese_date.html" title="fn document_parser::extract_portuguese_date">extract_portuguese_date</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">This function takes a reference to a Line of text and returns a 64-bit integer with Date as Unix
Epoch. The regex engine looks for a case-insensitive match of a Portuguese Date format, i.e., “2
de Outubro de 2023”. If the date is formatted with only the last two digits of a year, the
function will decide in which century it is by fitting the date in the range of 1960 to 2059.</div></li><li><div class="item-name"><a class="fn" href="fn.extract_text.html" title="fn document_parser::extract_text">extract_text</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">This function takes a reference to the path of the file currently being evaluated and returns a
result, which may be either a string, or a pointer to a heap allocated region containing the
error. This is necessary because the error size cannot be known at compile time. The function
calls Poppler’s <a href="https://manpages.debian.org/stretch/poppler-utils/pdftotext.1.en.html">pdftotext</a> with the path as
an argument, and suppresses the output to stderr.</div></li><li><div class="item-name"><a class="fn" href="fn.get_link.html" title="fn document_parser::get_link">get_link</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">This function takes a reference to the path of the file currently being evaluated and returns a
result, which may be either a string, or a pointer to a heap allocated region containing the
error. This is necessary because the error size cannot be known at compile time. Based on the
file stem (the part that is not the extension), which must be formatted in a very particular
way, this function generates a URL which can be used to download the PDF it is associated to.</div></li><li><div class="item-name"><a class="fn" href="fn.main.html" title="fn document_parser::main">main</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">The main entry point of the program.</div></li><li><div class="item-name"><a class="fn" href="fn.prompt_normative.html" title="fn document_parser::prompt_normative">prompt_normative</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">This function takes a reference to a prompt string and returns a 32 bit integer (can be 1, 2 or
3 only) to be used globally for all entries currently being evaluated and read from in the IN
folder. It loops and prompts for yes or no until a valid response is matched.</div></li><li><div class="item-name"><a class="fn" href="fn.return_date.html" title="fn document_parser::return_date">return_date</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">Receives a reference to a string with the formatted text, optionally returning a 64-bit integer
with the date as Unix Epoch. This function looks for the date in each line and immediately
returns upon finding it. First it searches for dates in the Brazilian format, and if it is not
found, it looks for numerical dates.</div></li><li><div class="item-name"><a class="fn" href="fn.return_parameters.html" title="fn document_parser::return_parameters">return_parameters</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">Receives a string with the Extracted Text, a reference to a vector with Keywords and a reference
to a Hash-Set of Already Processed Titles, optionally returning a Title string and a 64-bit
integer with the Date as Unix Epoch. It is guaranteed to return a boolean that tells if a given
entry is a duplicate. Upon finding a duplicate, this function will print a warning on the
terminal output, and will return no date, no title and a True value for the <code>is_duplicate</code>
boolean.</div></li><li><div class="item-name"><a class="fn" href="fn.return_title.html" title="fn document_parser::return_title">return_title</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">Receives a reference to a string with the formatted text and a reference to a vector with
keywords, optionally returning a string with the title. This function looks for the title in
each line and immediately returns upon finding it.</div></li></ul></section></div></main></body></html>